<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Aitor Ameztegui" />
<meta name="author" content="Marcos Rodrigues" />


<title>Data transformation (I): Create new variables, filter, select and organize data</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


</head>

<body>


<div id="content" data-toggle="wy-nav-shift">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("text-table-of-contents");
});
</script>

<!-- code folding -->

<nav id="nav-top" role="navigation" aria-label="top navigation">
    <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
</nav>


<div id="section-header">
<h1 class="title">Data transformation (I): Create new variables, filter, select and organize data</h1>
</div>


<div id="sidebar">
    <h2><a href="#content">Data transformation (I): Create new variables, filter, select and organize data</a></h2>
    <div id="table-of-contents">
      <ul>
      <li><a href="#section-introduction">Introduction</a></li>
      <li><a href="#section-our-data">Our data</a>
      <ul>
      <li><a href="#section-lets-have-a-look-at-the-data">Let’s have a look at the data</a></li>
      <li><a href="#section-a-more-in-depth-view-on-the-datasets-we-will-use">A more in depth view on the datasets we will use</a></li>
      </ul></li>
      <li><a href="#section-data-transformation-with-dplyr"><img src="images/03-data-transformation/dplyr.png" width="20" /> Data transformation with dplyr</a>
      <ul>
      <li><a href="#section-selecting-rows-with-filter">Selecting rows with <code>filter</code></a></li>
      <li><a href="#section-selecting-columns-with-select">Selecting columns with <code>select</code></a></li>
      <li><a href="#section-sorting-rows-with-arrange">Sorting rows with <code>arrange</code></a></li>
      <li><a href="#section-create-new-variables-with-mutate">Create new variables with <code>mutate</code></a></li>
      <li><a href="#section-reducing-variables-summarise-or-summarize">Reducing variables: <code>summarise</code> or <code>summarize</code></a></li>
      </ul></li>
      </ul>
    </div>
    
    <div id="postamble" data-toggle="wy-nav-shift" class="status">
              <p class="author"><span class="glyphicon glyphicon-user"></span> Aitor Ameztegui</p>
                  <p class="author"><span class="glyphicon glyphicon-user"></span> Marcos Rodrigues</p>
                  <p class="date"><span class="glyphicon glyphicon-calendar"></span> 111022 | Data management and visualization with R</p>
        </div>
</div>

<div id="main">
<div id="section-introduction" class="section level1">
<h1>Introduction</h1>
<p>The <a href="https://cran.r-project.org/web/packages/tidyverse/index.html"><code>tidyverse</code></a> is a set of packages created by <a href="https://github.com/hadley">Hadley Wickham</a>, chief scientist at RStudio. The tidyverse was created to facilitate data analysis. It consists of packages for importing and reading data, for organizing and modifying data, for analysis and modeling, and for displaying results. In fact, there is a package for each of the main steps in the data analysis pipeline.</p>
<p><img src="images/03-data-transformation/tidyverse_schema_2.png" /></p>
<p>In this lab we are going to cover the very basics of <strong>data manipulation</strong> with <code>dplyr</code>, which focuses on data transformation, to start handling our datasets towards the desired analysis and/or visualization procedures.</p>
<p>Before we start, bear in mind that:</p>
<ul>
<li><p><code>dplyr</code> (nor <code>tidyr</code> or <code>purrr</code> or any other package in the <code>tidyverse</code>) does not do anything that can’t be done with base R code, <code>apply</code> family functions, <code>for</code> loops or other packages.</p></li>
<li><p>It is designed to be more efficient (in time consume and code lines), easier to read and easier to use. More intuitive to use, specially for beginners (it may require some adaptation if you are used to base R code).</p></li>
<li><p>It is Valid mostly for <code>data.frames</code>. For other formats (matrices, arrays) <code>plyr</code> can be used instead.</p></li>
</ul>
</div>
<div id="section-our-data" class="section level1">
<h1>Our data</h1>
<p>For the development of this lab we are going to use several data tables, that you fin in the RStudio Cloud project of this lab, within the <code>data</code> folder. Click on the <code>data_IFN.rdata</code>file to open the</p>
<ol style="list-style-type: decimal">
<li><p><code>plots</code> [11858 x 15]: contains all plots from the Third Spanish Forest Inventory (IFN3) in Catalonia</p></li>
<li><p><code>trees</code> [111756 x 12]: all trees with dbh &gt; 7.5 cm measured in both the second and the third forest inventory (IFN2 and IFN3)</p></li>
<li><p><code>species</code> [14778 x 15]: number of trees per hectare in each plot, per species and size class</p></li>
<li><p><code>coordinates</code> [11858 x 6]: X and Y UTM coordinates of each plot.</p></li>
<li><p><code>leaf</code> [10447 x 3]: leaf biomass and carbon content for those IFN3 plots where they were available .</p></li>
</ol>
<div id="section-lets-have-a-look-at-the-data" class="section level2">
<h2>Let’s have a look at the data</h2>
<div class="sourceCode" id="section-cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb1-1"><a href="#section-cb1-1"></a>plots</span></code></pre></div>
<pre><code>## # A tibble: 11,858 x 17
##    Codi  Provincia Cla   Subclase FccTot FccArb FechaIni   HoraIni            
##    &lt;fct&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt;     &lt;int&gt;  &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;             
##  1 0800~ 08        A     1            80     70 2001-07-09 2017-11-26 09:44:00
##  2 0800~ 08        A     1            80     70 2001-08-06 2017-11-26 09:18:58
##  3 0800~ 08        A     1            90     80 2001-08-06 2017-11-26 12:08:09
##  4 0800~ 08        A     1            90     50 2001-07-09 2017-11-26 13:23:23
##  5 0800~ 08        A     1            70     60 2001-08-03 2017-11-26 09:11:28
##  6 0800~ 08        A     1            90     90 2001-08-01 2017-11-26 13:00:33
##  7 0800~ 08        A     1            90     90 2001-08-07 2017-11-26 10:08:15
##  8 0800~ 08        A     1            70     60 2001-08-03 2017-11-26 12:12:03
##  9 0800~ 08        A     1            80     70 2001-08-02 2017-11-26 09:00:16
## 10 0800~ 08        A     1            80     80 2001-06-14 2017-11-26 12:34:21
## # ... with 11,848 more rows, and 9 more variables: FechaFin &lt;date&gt;,
## #   HoraFin &lt;dttm&gt;, Rocosid &lt;int&gt;, Textura &lt;int&gt;, MatOrg &lt;int&gt;, PhSuelo &lt;int&gt;,
## #   FechaPh &lt;date&gt;, Dom_sp2 &lt;fct&gt;, Dom_sp3 &lt;fct&gt;</code></pre>
<div class="sourceCode" id="section-cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb3-1"><a href="#section-cb3-1"></a>trees</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 10
##    Codi   Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 080001 08        022         7  8.3   31.8     20    20.3    18.9    9  
##  2 080002 08        476        38  9.1   31.8     35    34      32.4    9  
##  3 080003 08        021        25  7     31.8     25    24.8    17.6   11  
##  4 080004 08        021        28  8.89  31.8     15    16.8    12.6    9.5
##  5 080006 08        021        19 11.2   14.1     35    34.0    30.9   13  
##  6 080007 08        021        32 12     14.1     35    33.1    28.2   10  
##  7 080008 08        243        40  7.8   31.8     15    15      13.2    6  
##  8 080009 08        045        16  5.09  31.8     20    17.5    15.3    7  
##  9 080010 08        243        47 26.9    5.09    65    67.4    66.8   16.5
## 10 080013 08        022        44  2.7  127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows</code></pre>
<div class="sourceCode" id="section-cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb5-1"><a href="#section-cb5-1"></a>species</span></code></pre></div>
<pre><code>## # A tibble: 14,778 x 15
##    Codi  Especie CD_10 CD_15 CD_20 CD_25 CD_30 CD_35 CD_40 CD_45 CD_50 CD_55
##    &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 0800~ 022         0 159.   31.8 111.  60.1   19.2  5.09   0    0        0
##  2 0800~ 021         0   0     0     0    0     74.2 28.3   63.7  0        0
##  3 0800~ 022         0   0     0   173.  31.8    0    0      0    0        0
##  4 0800~ 476         0   0     0     0    0     31.8  0      0    0        0
##  5 0800~ 021         0   0     0    31.8  0      0    0      0    5.09     0
##  6 0800~ 022         0 127.    0     0   46.0  127.   0     14.1  0        0
##  7 0800~ 021         0  31.8   0     0   31.8    0    0      0    0        0
##  8 0800~ 071         0   0     0    14.1  5.09  31.8  0      0    0        0
##  9 0800~ 243         0   0    14.1   0   14.1    0    5.09   0    0        0
## 10 0800~ 278         0 286.   31.8   0    0     31.8  0      0    0        0
## # ... with 14,768 more rows, and 3 more variables: CD_60 &lt;dbl&gt;, CD_65 &lt;dbl&gt;,
## #   CD_70 &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="section-cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb7-1"><a href="#section-cb7-1"></a>coordinates</span></code></pre></div>
<pre><code>## # A tibble: 11,766 x 6
##    Codi   Provincia Estadillo Cla    CoorX   CoorY
##    &lt;fct&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;fct&gt;  &lt;int&gt;   &lt;int&gt;
##  1 080001 08        0001      A     402000 4684000
##  2 080002 08        0002      A     400000 4683000
##  3 080003 08        0003      A     401000 4683000
##  4 080004 08        0004      A     402000 4683000
##  5 080005 08        0005      A     400000 4682000
##  6 080006 08        0006      A     397000 4681000
##  7 080007 08        0007      A     399000 4681000
##  8 080008 08        0008      A     401000 4681000
##  9 080009 08        0009      A     402000 4681000
## 10 080010 08        0010      A     394000 4680000
## # ... with 11,756 more rows</code></pre>
<div class="sourceCode" id="section-cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb9-1"><a href="#section-cb9-1"></a>leaf</span></code></pre></div>
<pre><code>## # A tibble: 10,447 x 3
##    Codi   leaf_biomass leaf_carbon
##    &lt;chr&gt;         &lt;dbl&gt;       &lt;dbl&gt;
##  1 080001        4.99        2.58 
##  2 080002        2.39        1.23 
##  3 080003        2.97        1.53 
##  4 080004        0.395       0.200
##  5 080005        1.34        0.644
##  6 080006        4.03        2.07 
##  7 080007        5.97        3.04 
##  8 080008        0.928       0.452
##  9 080009        3.85        1.94 
## 10 080010        1.54        0.758
## # ... with 10,437 more rows</code></pre>
<p>Maybe you have noticed that, when printing the datasets, R says they are <code>a tibble</code>. So, what are <code>tibbles</code>?. Well, <code>tibbles</code> are not usual <code>data.frames</code>, though they are a very similar data structures. The main difference is that <code>tibbles</code> facilitate data inspection and, thus, understanding by:</p>
<ul>
<li><p>Printing only the first 10 rows by default (equal to <code>head(x, n =10)</code>).</p></li>
<li><p>Informing about variable types by default (<code>str(x)</code>).</p></li>
</ul>
<p>Besides that, it is like a data.frame (it <em>is</em> a data.frame). In fact if we see the class of our datasets, we see they <em>ARE</em> dataframes</p>
<div class="sourceCode" id="section-cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb11-1"><a href="#section-cb11-1"></a><span class="kw">class</span>(trees)</span></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>Data inspection must be the first thing we do before starting any kind of analysis. Understanding data is crucial to succeed. The <code>glimpse</code> function is perhaps the most informative way to know what our data looks like at a glance:</p>
<div class="sourceCode" id="section-cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb13-1"><a href="#section-cb13-1"></a><span class="kw">glimpse</span>(trees)</span></code></pre></div>
<pre><code>## Rows: 111,756
## Columns: 10
## $ Codi      &lt;fct&gt; 080001, 080002, 080003, 080004, 080006, 080007, 080008, 0...
## $ Provincia &lt;chr&gt; &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08&quot;, &quot;08...
## $ Especie   &lt;fct&gt; 022, 476, 021, 021, 021, 021, 243, 045, 243, 022, 021, 02...
## $ Rumbo     &lt;dbl&gt; 7, 38, 25, 28, 19, 32, 40, 16, 47, 44, 13, 9, 9, 25, 199,...
## $ Dist      &lt;dbl&gt; 8.3, 9.1, 7.0, 8.9, 11.2, 12.0, 7.8, 5.1, 26.9, 2.7, 8.9,...
## $ N         &lt;dbl&gt; 31.8, 31.8, 31.8, 31.8, 14.1, 14.1, 31.8, 31.8, 5.1, 127....
## $ CD        &lt;dbl&gt; 20, 35, 25, 15, 35, 35, 15, 20, 65, 15, 20, 30, 45, 20, 3...
## $ DiamIf3   &lt;dbl&gt; 20, 34, 25, 17, 34, 33, 15, 18, 67, 15, 19, 28, 46, 20, 3...
## $ DiamIf2   &lt;dbl&gt; 19, 32, 18, 13, 31, 28, 13, 15, 67, 13, 14, 25, 45, 20, 3...
## $ HeiIf3    &lt;dbl&gt; 9.0, 9.0, 11.0, 9.5, 13.0, 10.0, 6.0, 7.0, 16.5, 9.5, 11....</code></pre>
<p>Nonetheless, we can just invoke the objects to check them, as we did previously:</p>
<div class="sourceCode" id="section-cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb15-1"><a href="#section-cb15-1"></a>trees</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 10
##    Codi   Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 080001 08        022         7  8.3   31.8     20    20.3    18.9    9  
##  2 080002 08        476        38  9.1   31.8     35    34      32.4    9  
##  3 080003 08        021        25  7     31.8     25    24.8    17.6   11  
##  4 080004 08        021        28  8.89  31.8     15    16.8    12.6    9.5
##  5 080006 08        021        19 11.2   14.1     35    34.0    30.9   13  
##  6 080007 08        021        32 12     14.1     35    33.1    28.2   10  
##  7 080008 08        243        40  7.8   31.8     15    15      13.2    6  
##  8 080009 08        045        16  5.09  31.8     20    17.5    15.3    7  
##  9 080010 08        243        47 26.9    5.09    65    67.4    66.8   16.5
## 10 080013 08        022        44  2.7  127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows</code></pre>
</div>
<div id="section-a-more-in-depth-view-on-the-datasets-we-will-use" class="section level2">
<h2>A more in depth view on the datasets we will use</h2>
<p>In this lab we are going to use mostly the datasets <code>trees</code> and <code>plots</code>. Let’s explain the variables they contain:</p>
<p><strong>PLOTS</strong></p>
<p>This dataframe contains information on the plots measured in the National Forest Inventory</p>
<ul>
<li>Codi (factor): the code of the permanent plot.</li>
<li>Provincia (character): the province in which the plot is located. For Catalonia the codes are:
<ul>
<li>Barcelona: “08”</li>
<li>Girona: “17”</li>
<li>Lleida: “25”</li>
<li>Tarragona “43”</li>
</ul></li>
<li>Cla (factor): type of plot, depending if it was measured in IFN2 or not</li>
<li>Subclase (factor): type of plot, depending if it was measured in IFN2 or not</li>
<li>FccTot (integer): canopy cover in the plot</li>
<li>FccArb (integer): tree canopy cover in the plot</li>
<li>FechaIni (date): date at which the plot was started to measure</li>
<li>HoraIni (datetime): date and time at which the plot was started to measure</li>
<li>FechaFin (date): date at which the plot was finished to measure</li>
<li>HoraFin (datetime): time at which the plot was finished to measure</li>
<li>Rocosid (integer): proportion of rocks in surface of the plot</li>
<li>Textura (integer): soil texture</li>
<li>MatOrg (integer): amount of organic matter in the plot</li>
<li>PhSuelo (integer): pH of the soil in the plot</li>
<li>FechaPh (date): date at which pH was measured</li>
</ul>
<p>** TREES**</p>
<ul>
<li>Codi (factor): the code of the permanent plot.</li>
<li>Provincia (character): the province in which the plot is located.</li>
<li>Especie (factor): the specific identity of the tree, as a code. You can find the meaning of each code <a href="https://www.miteco.gob.es/es/biodiversidad/servicios/banco-datos-naturaleza/documentador_bdcampo_ifn3_tcm30-282240.pdf">here</a> (pages 24-28)</li>
<li>Rumbo: the angle from the center of the plot to the tree, measured in centesimal degrees (so takes values from 0 to 400)</li>
<li>Dist: the distance from the center of the plot to the tree, in meters</li>
<li>N: number of trees per hectare that this tree represents</li>
<li>CD: diameter class, in centimeters and grouped in 5 cm classes</li>
<li>DiamIf3: tree diameter, in centimeters, as measured in IFN3</li>
<li>DiamIf2: tree diameter, in centimeters, as measured in IFN2</li>
<li>HeiIf3: tree height, in meters, as measured in IFN3.</li>
</ul>
</div>
</div>
<div id="section-data-transformation-with-dplyr" class="section level1">
<h1><img src="images/03-data-transformation/dplyr.png" width="20" /> Data transformation with dplyr</h1>
<p><code>dplyr</code> is a essentially a <strong>grammar for data manipulation</strong>, providing a consistent set of <em>verbs</em> that help you solve the most common data manipulation challenges.</p>
<p>The 5 main verbs of dplyr</p>
<ul>
<li><p><code>filter</code>: keep/select the rows that match a given condition</p></li>
<li><p><code>select</code>: keep columns by name</p></li>
<li><p><code>arrange</code>: sort rows acording to a given variable</p></li>
<li><p><code>mutate</code>: transform existent variables or create new ones</p></li>
<li><p><code>summarise</code>: do some summary statistics and reduce data</p></li>
</ul>
<p>These is a very small subset of what <code>dplyr</code> can do. Just a quick check into its <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf"><em>cheatsheet</em></a> reveals a wide range of possibilities:</p>
<p><img src="images/03-data-transformation/data-transformation-cheatsheet-thumbs.png" /></p>
<p>Most of the tidyverse verbs/functions share certain elements in common and <code>dplyr</code> is certainly not an exception. The basic sintax works like this:</p>
<div class="sourceCode" id="section-cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb17-1"><a href="#section-cb17-1"></a><span class="kw">verb</span>(data, ...)</span></code></pre></div>
<ul>
<li>First argument: data (as <code>data.frame</code> or <code>tbl_df</code>).</li>
<li>The rest of arguments specify what to do with the data, and depend on the specific verb.</li>
<li>Output is always another data frame (<code>tbl_df</code> or <code>data.frame</code>).</li>
<li>Unless we are assigning (<code>&lt;-</code>) the result into an object, functions never modify the original data.</li>
</ul>
<div id="section-selecting-rows-with-filter" class="section level2">
<h2>Selecting rows with <code>filter</code></h2>
<p>Use <code>filter()</code> to choose rows/cases/observations where a given condition(s) is <code>TRUE</code>. The first argument in <code>filter</code>is the dataframe we want it to apply to, and the rest are the criteria for the filtering. If there are several criteria, they can be separated by commas:</p>
<p><img src="images/03-data-transformation/filter.png" /></p>
<p>Let’s see a few basic examples applied to the <code>trees</code> table:</p>
<ol style="list-style-type: decimal">
<li>Get trees taller than 6 meters:</li>
</ol>
<div class="sourceCode" id="section-cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb18-1"><a href="#section-cb18-1"></a><span class="kw">filter</span>(trees, HeiIf3 <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>)</span></code></pre></div>
<pre><code>## # A tibble: 100,247 x 10
##    Codi   Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 080001 08        022         7  8.3   31.8     20    20.3    18.9    9  
##  2 080002 08        476        38  9.1   31.8     35    34      32.4    9  
##  3 080003 08        021        25  7     31.8     25    24.8    17.6   11  
##  4 080004 08        021        28  8.89  31.8     15    16.8    12.6    9.5
##  5 080006 08        021        19 11.2   14.1     35    34.0    30.9   13  
##  6 080007 08        021        32 12     14.1     35    33.1    28.2   10  
##  7 080009 08        045        16  5.09  31.8     20    17.5    15.3    7  
##  8 080010 08        243        47 26.9    5.09    65    67.4    66.8   16.5
##  9 080013 08        022        44  2.7  127.      15    15.1    12.6    9.5
## 10 080014 08        021        13  8.89  31.8     20    19.2    14.2   11.5
## # ... with 100,237 more rows</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Get trees in Tarragona (province 43):</li>
</ol>
<div class="sourceCode" id="section-cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb20-1"><a href="#section-cb20-1"></a><span class="kw">filter</span>(trees, Provincia <span class="op">==</span><span class="st"> &#39;43&#39;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 9,693 x 10
##    Codi   Provincia Especie Rumbo  Dist     N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 430003 43        024         6  9.69  31.8    30    28.1   20.4    10.5
##  2 430006 43        023        24  9.69  31.8    30    28.2   23.2    10.5
##  3 430007 43        024         0  8.8   31.8    30    30.4   27.8    10.5
##  4 430009 43        024        15  9.89  31.8    30    30.4   30.4    11  
##  5 430010 43        024        33 12.1   14.1    45    47.2   42.0    13.5
##  6 430011 43        044         1  2.09 127.     10    11.0    9.65    6  
##  7 430012 43        024        31 13     14.1    35    33.0   26.5    12.5
##  8 430013 43        024        80  1.89 127.     40    38.4   35.7    11  
##  9 430014 43        025         4  4.3  127.     15    14.0   11.2     5  
## 10 430015 43        024        22 11.2   14.1    30    31.2   27.4     9  
## # ... with 9,683 more rows</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Get trees in diametric classes 45 and 70:</li>
</ol>
<div class="sourceCode" id="section-cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb22-1"><a href="#section-cb22-1"></a><span class="kw">filter</span>(trees, CD <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">45</span>, <span class="dv">70</span>))</span></code></pre></div>
<pre><code>## # A tibble: 2,552 x 10
##    Codi   Provincia Especie Rumbo  Dist     N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 080016 08        071         9 26.9   5.09    45    46.0    45     19  
##  2 080113 08        021        19 11.1  14.1     70    72.6    70.7   20.9
##  3 080686 08        042        43  7.09 31.8     45    44.3    42.5   12.5
##  4 080721 08        042        16 15.8   5.09    45    46.2    39.8   17.5
##  5 080743 08        042         3  9.69 31.8     45    46.1    40.7   25.5
##  6 081271 08        024        93 10.8  14.1     45    44.0    39.0   17.3
##  7 081278 08        024        87 10.1  14.1     45    44.6    38.9   15.1
##  8 081354 08        026        16  8.6  31.8     45    43.4    30.8   16.9
##  9 081402 08        054        51  5.19 31.8     70   102.     95.5   17.7
## 10 081943 08        024         1 10.3  14.1     45    43.2    33.8   11.7
## # ... with 2,542 more rows</code></pre>
<blockquote>
<p>The key aspect of <code>filter</code> lies on building the <em>condition</em> that must be met. Doing so involves the use of <code>logical operators</code>:</p>
</blockquote>
<p><img src="images/03-data-transformation/logical_operators2.png" width="500" /></p>
<div class="exercise">
<p><strong>EXERCISE 1:</strong> </br></p>
<p>Let’s find those plots in IFN3n (<code>plots</code> data frame) that:</p>
<p>1.1 Are located either in Barcelona (08) or Girona (17)</p>
<div class="tutorial-exercise" data-label="ex_1_1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Change the filter to select February rather than January</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":8,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":768,"warning":true,"error":false,"message":true,"exercise.df_print":"default","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ex_1_1-solution" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>filter(plots, Provincia == &quot;08&quot; | Provincia == &quot;17&quot;)</code></pre>
</div>
<p>1.2 Were measured <strong>in</strong> January 2001</p>
<p>1.3 It took <strong>more</strong> than 2 hours to measure (7200s)</br> Hint: we can include an arithmetic operation between two variables within a <code>filter</code> function</p>
</div>
</div>
<div id="section-selecting-columns-with-select" class="section level2">
<h2>Selecting columns with <code>select</code></h2>
<p><code>Select</code> is the function in <code>dplyr</code> to choose variables (i.e., columns) from a <code>tibble</code> or <code>data.frame</code>. It keeps only the variables you mention, but even if we only select one variable, the output is still a data frame. To extract a given columns as a vector we can use the function <code>pull()</code>.</p>
<p><img src="images/03-data-transformation/select.png" width="250" /></p>
<p>Let’s see some examples:</p>
<ol style="list-style-type: decimal">
<li>Selecting a single column/variable:</li>
</ol>
<div class="sourceCode" id="section-cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb26-1"><a href="#section-cb26-1"></a><span class="kw">select</span>(trees, DiamIf3)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 1
##    DiamIf3
##      &lt;dbl&gt;
##  1    20.3
##  2    34  
##  3    24.8
##  4    16.8
##  5    34.0
##  6    33.1
##  7    15  
##  8    17.5
##  9    67.4
## 10    15.1
## # ... with 111,746 more rows</code></pre>
<p>Selecting all columns but the targeted one. The <code>-</code> operator excludes the targeted variable so that we only keep the remaining variables:</p>
<div class="sourceCode" id="section-cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb28-1"><a href="#section-cb28-1"></a><span class="kw">select</span>(trees, <span class="op">-</span>Codi)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 9
##    Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 08        022         7  8.3   31.8     20    20.3    18.9    9  
##  2 08        476        38  9.1   31.8     35    34      32.4    9  
##  3 08        021        25  7     31.8     25    24.8    17.6   11  
##  4 08        021        28  8.89  31.8     15    16.8    12.6    9.5
##  5 08        021        19 11.2   14.1     35    34.0    30.9   13  
##  6 08        021        32 12     14.1     35    33.1    28.2   10  
##  7 08        243        40  7.8   31.8     15    15      13.2    6  
##  8 08        045        16  5.09  31.8     20    17.5    15.3    7  
##  9 08        243        47 26.9    5.09    65    67.4    66.8   16.5
## 10 08        022        44  2.7  127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>To select several columns:</li>
</ol>
<div class="sourceCode" id="section-cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb30-1"><a href="#section-cb30-1"></a><span class="kw">select</span>(trees, DiamIf2, DiamIf3)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 2
##    DiamIf2 DiamIf3
##      &lt;dbl&gt;   &lt;dbl&gt;
##  1    18.9    20.3
##  2    32.4    34  
##  3    17.6    24.8
##  4    12.6    16.8
##  5    30.9    34.0
##  6    28.2    33.1
##  7    13.2    15  
##  8    15.3    17.5
##  9    66.8    67.4
## 10    12.6    15.1
## # ... with 111,746 more rows</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Selecting a range of columns. The <code>:</code> operator allows referencing a set of contiguous columns so that all variables contained in that range will be included:</li>
</ol>
<div class="sourceCode" id="section-cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb32-1"><a href="#section-cb32-1"></a><span class="kw">select</span>(trees, Codi<span class="op">:</span>Dist)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 5
##    Codi   Provincia Especie Rumbo  Dist
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1 080001 08        022         7  8.3 
##  2 080002 08        476        38  9.1 
##  3 080003 08        021        25  7   
##  4 080004 08        021        28  8.89
##  5 080006 08        021        19 11.2 
##  6 080007 08        021        32 12   
##  7 080008 08        243        40  7.8 
##  8 080009 08        045        16  5.09
##  9 080010 08        243        47 26.9 
## 10 080013 08        022        44  2.7 
## # ... with 111,746 more rows</code></pre>
<blockquote>
<p>We can combine <code>-</code> and <code>:</code> to exclude a range of columns, though we must use a <code>vector</code> to specify the range using parenthesis:</p>
</blockquote>
<div class="sourceCode" id="section-cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb34-1"><a href="#section-cb34-1"></a><span class="kw">select</span>(trees,<span class="op">-</span>(Codi<span class="op">:</span>Dist))</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 5
##         N    CD DiamIf3 DiamIf2 HeiIf3
##     &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1  31.8     20    20.3    18.9    9  
##  2  31.8     35    34      32.4    9  
##  3  31.8     25    24.8    17.6   11  
##  4  31.8     15    16.8    12.6    9.5
##  5  14.1     35    34.0    30.9   13  
##  6  14.1     35    33.1    28.2   10  
##  7  31.8     15    15      13.2    6  
##  8  31.8     20    17.5    15.3    7  
##  9   5.09    65    67.4    66.8   16.5
## 10 127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows</code></pre>
<blockquote>
<p>We can leverage some special functions especifically design to work withwith strings to enhance column extraction:</p>
</blockquote>
<ul>
<li><code>starts_with(x)</code>: names that start with <em>x</em>.</li>
<li><code>ends_with(x)</code>: names that end with <em>x</em>.</li>
<li><code>contains(x)</code>: selects all variables whose name contains <em>x</em>.</li>
<li><code>matches(x)</code>: selects all variables whose name contains the regular expression <em>x</em>.</li>
<li><code>num_range("x", 1:5, width = 2)</code>: selects all variables (numerically) from x01 to x05</li>
<li><code>one_of ("x", "y", "z")</code>: selects variables provided in a character vector.</li>
</ul>
<p>We can check the list of special functions with <code>help(select)</code>.</p>
<ol start="4" style="list-style-type: decimal">
<li>Select columns that start with the string <code>Diam</code>:</li>
</ol>
<div class="sourceCode" id="section-cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb36-1"><a href="#section-cb36-1"></a><span class="kw">select</span>(trees, <span class="kw">starts_with</span>(<span class="st">&#39;Diam&#39;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 2
##    DiamIf3 DiamIf2
##      &lt;dbl&gt;   &lt;dbl&gt;
##  1    20.3    18.9
##  2    34      32.4
##  3    24.8    17.6
##  4    16.8    12.6
##  5    34.0    30.9
##  6    33.1    28.2
##  7    15      13.2
##  8    17.5    15.3
##  9    67.4    66.8
## 10    15.1    12.6
## # ... with 111,746 more rows</code></pre>
<div class="exercise">
<p><strong>EXERCISE 2</strong> </br></p>
<p>Think of three or four ways to select the variables that define the start and finish date of plot measuring.</p>
</div>
</div>
<div id="section-sorting-rows-with-arrange" class="section level2">
<h2>Sorting rows with <code>arrange</code></h2>
<p><code>arrange</code> allows sorting a data frame according to the values of a <em>guiding</em> variable. <code>arrange</code> sorts the database based on one or more variables. The first argument will be, as always, the data frame that we want to re-sort, and then we specify the variables that determine the sorting order. If we specify more than 1 variable, the successive variables will serve to break the ties of the previous ones. Y Sorting can be done in either <em>ascending</em> or <em>descending</em> order, both with numerical (increase or decrease) or alphanumerical (alphabetical order) variables.</p>
<blockquote>
<p>As we will see in further sections, sorting data may significantly help in the process of data visualization, and can also be an easy way to inspect the range of data of a particular variable.</p>
</blockquote>
<p><img src="images/03-data-transformation/arrange.png" /> Let’s see a fe examples:</p>
<ol style="list-style-type: decimal">
<li>Sort trees ascending by height in the third forest inventory:</li>
</ol>
<div class="sourceCode" id="section-cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb38-1"><a href="#section-cb38-1"></a><span class="kw">arrange</span>(trees, HeiIf3)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 10
##    Codi   Provincia Especie Rumbo  Dist     N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 171919 17        045        72  4.5  127.     10   10.2    10.4    1.5 
##  2 171806 17        046       138  4.5  127.     10   11.9     9.95   1.5 
##  3 171049 17        045       331  3.29 127.     10    7.65    7.65   1.5 
##  4 080073 08        071       269  3.9  127.     10   10.4     9.2    1.6 
##  5 082415 08        045         9  4.69 127.     10    9.7     9.7    1.79
##  6 082451 08        044        33  1    127.     10    7.9     8.1    2   
##  7 171959 17        068        17  3.29 127.     10    9.95    8.4    2   
##  8 250494 25        042        29  3.09 127.     10    8.45    8.45   2   
##  9 251649 25        022         5  5.5   31.8    15   14      14      2   
## 10 080664 08        042        49  4.19 127.     10    8.45    8.3    2   
## # ... with 111,746 more rows</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Sort them descending:</li>
</ol>
<div class="sourceCode" id="section-cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb40-1"><a href="#section-cb40-1"></a><span class="kw">arrange</span>(trees, <span class="kw">desc</span>(Dist))</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 10
##    Codi   Provincia Especie Rumbo  Dist     N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 250008 25        042       398  36.5  5.09    70    74.8    72.3   11.1
##  2 250025 25        031       350  34.8  5.09    70    75.1    71.3   35.7
##  3 250135 25        022       158  33.9  5.09    50    51.8    54.0    9  
##  4 250051 25        021       110  33.6  5.09    60    58.2    56.8    6.5
##  5 250025 25        031       238  33.5  5.09    50    51      45.5   20.3
##  6 250010 25        071       214  32.9  5.09    70    85.3    71.6   21  
##  7 251788 25        045       163  32.8  5.09    60    61.6    51.7   10.5
##  8 250039 25        031       119  32.5  5.09    65    63.5    62.6   30  
##  9 250025 25        031       390  32.1  5.09    45    45.6    43.8   24.6
## 10 171289 17        071        38  31.4  5.09    60    60.8    50.4   26.9
## # ... with 111,746 more rows</code></pre>
<div class="exercise">
<p><strong>EXERCISE 3</strong> </br></p>
<p>3.1 Sort plots by date and hour of measurement</p>
<p>3.2 Which plots were started to be measured later in the day?</p>
<p>3.3 Which plots took longer to be measured?</br> Hint: as we did with <code>filter</code>, we can also sort a data frame based on the result of an aithmetic operation between two variables.</p>
</div>
</div>
<div id="section-create-new-variables-with-mutate" class="section level2">
<h2>Create new variables with <code>mutate</code></h2>
<p><code>mutate()</code> allows to create/calculate new columns/variables in our dataset. It is perhaps one of the most used functions given its ability to either create or update variables in a given <code>tibble</code> or <code>data.frame</code>. We just need to specify the dataframe where we want to crate the variable, and its value:</p>
<p><img src="images/03-data-transformation/mutate.png" /></p>
<p>The basic syntax of <code>mutate</code> allows to especify the name of variable (<code>variable_name = data_operation</code>) and then the operation by which we assign information to it.</p>
<blockquote>
<p>If the name of the variable already exists, then that variable is replaced and updated with the new values. Otherwise, we will create a new variable. Nonetheless, it would be actually replaced unless we use <code>&lt;-</code> to store the result into an object. If we want toc hange the name of a variable without changing its values, we can use the verb <code>rename</code>, also available in <code>dplyr</code>.</p>
</blockquote>
<p>Let’s see some examples:</p>
<ol style="list-style-type: decimal">
<li>Replace <code>Dist</code> with its old value times 100:</li>
</ol>
<div class="sourceCode" id="section-cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb42-1"><a href="#section-cb42-1"></a><span class="kw">mutate</span>(</span>
<span id="section-cb42-2"><a href="#section-cb42-2"></a>  trees,</span>
<span id="section-cb42-3"><a href="#section-cb42-3"></a>  <span class="dt">Dist =</span> Dist <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="section-cb42-4"><a href="#section-cb42-4"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 10
##    Codi   Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt;  &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 080001 08        022         7  830.  31.8     20    20.3    18.9    9  
##  2 080002 08        476        38  910   31.8     35    34      32.4    9  
##  3 080003 08        021        25  700   31.8     25    24.8    17.6   11  
##  4 080004 08        021        28  889   31.8     15    16.8    12.6    9.5
##  5 080006 08        021        19 1119   14.1     35    34.0    30.9   13  
##  6 080007 08        021        32 1200   14.1     35    33.1    28.2   10  
##  7 080008 08        243        40  780   31.8     15    15      13.2    6  
##  8 080009 08        045        16  509   31.8     20    17.5    15.3    7  
##  9 080010 08        243        47 2689    5.09    65    67.4    66.8   16.5
## 10 080013 08        022        44  270  127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows</code></pre>
<blockquote>
<p>Note that several operations can be conducted at once just by separating many operations using <code>,</code>:</p>
</blockquote>
<div class="sourceCode" id="section-cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb44-1"><a href="#section-cb44-1"></a><span class="kw">mutate</span>(trees,</span>
<span id="section-cb44-2"><a href="#section-cb44-2"></a>       <span class="dt">Allometry =</span> DiamIf3 <span class="op">/</span><span class="st"> </span>HeiIf3,</span>
<span id="section-cb44-3"><a href="#section-cb44-3"></a>       <span class="dt">Allometry2 =</span> Allometry <span class="op">*</span><span class="st"> </span>DiamIf2</span>
<span id="section-cb44-4"><a href="#section-cb44-4"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 111,756 x 12
##    Codi  Provincia Especie Rumbo  Dist      N    CD DiamIf3 DiamIf2 HeiIf3
##    &lt;fct&gt; &lt;chr&gt;     &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
##  1 0800~ 08        022         7  8.3   31.8     20    20.3    18.9    9  
##  2 0800~ 08        476        38  9.1   31.8     35    34      32.4    9  
##  3 0800~ 08        021        25  7     31.8     25    24.8    17.6   11  
##  4 0800~ 08        021        28  8.89  31.8     15    16.8    12.6    9.5
##  5 0800~ 08        021        19 11.2   14.1     35    34.0    30.9   13  
##  6 0800~ 08        021        32 12     14.1     35    33.1    28.2   10  
##  7 0800~ 08        243        40  7.8   31.8     15    15      13.2    6  
##  8 0800~ 08        045        16  5.09  31.8     20    17.5    15.3    7  
##  9 0800~ 08        243        47 26.9    5.09    65    67.4    66.8   16.5
## 10 0800~ 08        022        44  2.7  127.      15    15.1    12.6    9.5
## # ... with 111,746 more rows, and 2 more variables: Allometry &lt;dbl&gt;,
## #   Allometry2 &lt;dbl&gt;</code></pre>
<blockquote>
<p>We can even create a variable based on a variable we just created, and that did not exist in the original data frame (e.g. Allometry2 is based on Allometry)</p>
</blockquote>
<div class="exercise">
<p><strong>EXERCISE 4</strong></br></p>
<p>4.1 Get diameter growth (in cm) of each tree between IFN2 (DiamIf2) and IFN3 (DiamIf3)</p>
<p>4.2 Create two new variables with basal area of each tree (in <span class="math inline">\(m^2\)</span> per hectare), both for IFN2 and IFN3. Which is the species of the fastest-growing tree in basal area? Hint: to solve this exercise you need to combine <code>mutate</code>with on of the other verbs we’ve just covered.</p>
<p><span class="math display">\[
AB = \frac{\pi}{4} · Diam^{2} · N
\]</span></p>
</div>
</div>
<div id="section-reducing-variables-summarise-or-summarize" class="section level2">
<h2>Reducing variables: <code>summarise</code> or <code>summarize</code></h2>
<p>Data manipulation means different things to different researchers. Sometimes we want to select certain observations (rows) or variables (columns), other times we want to group the data according to one or more variables, or we want to calculate statistical values from according to a grouping or category scheme.</p>
<p><code>summarise</code> allows us to make calculations with the variables in the data frame, but using <em>summary functions</em>, i.e. functions that transform the variability in a given variable into a single value. Functions such as <code>sum</code>, <code>mean</code>, <code>max</code>,<code>IQR</code>, etc. are examples of summary functions.</p>
<p><img src="images/03-data-transformation/summarise.png" /> We can leverage common statistical/summary functions to summarize numerical variables:</p>
<ul>
<li><p>Range indicators: <code>min(x)</code>, <code>max(x)</code>, <code>quantile(x, p)</code></p></li>
<li><p>Central measures: <code>mean(x)</code>, <code>median(x)</code>,</p></li>
<li><p>Dispersion measures: <code>sd(x)</code>, <code>var(x)</code>, <code>IQR(x)</code></p></li>
<li><p>Counts: <code>n()</code>, <code>n_distinct(x)</code></p></li>
<li><p>Conditional statistics: <code>sum(x &gt; 10)</code>, <code>mean(x &gt; 10)</code></p></li>
</ul>
<ol style="list-style-type: decimal">
<li>Let’s get the mean diameter of all trees in the dataset</li>
</ol>
<div class="sourceCode" id="section-cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb46-1"><a href="#section-cb46-1"></a><span class="kw">summarise</span>(trees, <span class="dt">mean_d =</span> <span class="kw">mean</span>(DiamIf3))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   mean_d
##    &lt;dbl&gt;
## 1   23.4</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Actually, the <code>mean</code> means nothing without the standard deviation. Fortunately, we can concatenate summaries just using <code>,</code> to implement additional summaries:</li>
</ol>
<div class="sourceCode" id="section-cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb48-1"><a href="#section-cb48-1"></a><span class="kw">summarise</span>(trees, <span class="dt">mean_if3 =</span> <span class="kw">mean</span>(DiamIf3), <span class="dt">sd_if3 =</span> <span class="kw">sd</span>(DiamIf3))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   mean_if3 sd_if3
##      &lt;dbl&gt;  &lt;dbl&gt;
## 1     23.4   10.3</code></pre>
<div id="section-grouped-summaries-group_by" class="section level3">
<h3>Grouped summaries: <code>group_by</code></h3>
<p>The summary of a variable is important to have an idea about the data. However, summarizing a variable by group gives better information on the distribution of the data. In fact, one of the most common ways in which we create summaries is by grouping on the basis of certain information. That means, we split observations between a number of groups and the calculate the summary statistics for each of them. This is why <code>summarise</code> is most often used in conjunction with <code>group_by</code>, which classifies the data frame into groups based on a categorical variable.</p>
<p><img src="images/03-data-transformation/group_summarise.png" /></p>
<p>In the case of our database, there are several groups that could be of interest:</p>
<div class="sourceCode" id="section-cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb50-1"><a href="#section-cb50-1"></a><span class="co"># Per province</span></span>
<span id="section-cb50-2"><a href="#section-cb50-2"></a>by_province &lt;-<span class="st"> </span><span class="kw">group_by</span> (trees, Provincia)</span>
<span id="section-cb50-3"><a href="#section-cb50-3"></a></span>
<span id="section-cb50-4"><a href="#section-cb50-4"></a><span class="co"># Per plot </span></span>
<span id="section-cb50-5"><a href="#section-cb50-5"></a>by_plot &lt;-<span class="st"> </span><span class="kw">group_by</span> (trees, Codi)</span>
<span id="section-cb50-6"><a href="#section-cb50-6"></a></span>
<span id="section-cb50-7"><a href="#section-cb50-7"></a><span class="co"># Per species</span></span>
<span id="section-cb50-8"><a href="#section-cb50-8"></a>by_species &lt;-<span class="st"> </span><span class="kw">group_by</span> (trees, Especie)</span>
<span id="section-cb50-9"><a href="#section-cb50-9"></a></span>
<span id="section-cb50-10"><a href="#section-cb50-10"></a><span class="co"># per diameter class</span></span>
<span id="section-cb50-11"><a href="#section-cb50-11"></a>by_CD &lt;-<span class="st"> </span><span class="kw">group_by</span> (trees, CD)</span>
<span id="section-cb50-12"><a href="#section-cb50-12"></a></span>
<span id="section-cb50-13"><a href="#section-cb50-13"></a><span class="co"># Per plot and species</span></span>
<span id="section-cb50-14"><a href="#section-cb50-14"></a>by_plot_species &lt;-<span class="st"> </span><span class="kw">group_by</span> (trees, Codi, Especie)</span></code></pre></div>
<p>You can see, by typing for example <code>glimpse(by_plot)</code> that the resulting data frame does not differ at all from the original, apparently, but has a hidden index that identifies to which class belongs each observation. Moreover, it has now the class <code>grouped_df</code>, that indicates this is a grouped table.</p>
<ol start="3" style="list-style-type: decimal">
<li>Now we can apply <code>summarise</code> to get an aggregation value per group category. In this case we will calculate the mean and maximum height per tree species:</li>
</ol>
<div class="sourceCode" id="section-cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb51-1"><a href="#section-cb51-1"></a><span class="kw">summarise</span>(</span>
<span id="section-cb51-2"><a href="#section-cb51-2"></a>  by_species,</span>
<span id="section-cb51-3"><a href="#section-cb51-3"></a>  <span class="dt">mean_height_ifn3 =</span> <span class="kw">mean</span>(HeiIf3, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="section-cb51-4"><a href="#section-cb51-4"></a>  <span class="dt">max_height_ifn3 =</span> <span class="kw">max</span>(HeiIf3, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="section-cb51-5"><a href="#section-cb51-5"></a>  )</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 91 x 3
##    Especie mean_height_ifn3 max_height_ifn3
##    &lt;fct&gt;              &lt;dbl&gt;           &lt;dbl&gt;
##  1 004                 5.4              5.8
##  2 008                 6.27            10  
##  3 012                 6.78            10  
##  4 013                 9.61            17.2
##  5 014                 7.45             8  
##  6 015                 7                9  
##  7 016                 7.72            12  
##  8 017                19.8             28  
##  9 019                 7.13            17.3
## 10 021                12.6             28.5
## # ... with 81 more rows</code></pre>
<div class="exercise">
<p><strong>EXERCISE 5</strong></br></p>
<p>What statistics could we calculate to characterize the diameter values of the trees for each plot? Let’s try to calculate the mean, minimum and maximum values, the 90th percentile and the interquartile range for each plot (remember, you can and <em>SHOULD</em> look for help to know how to calculaye these values). We will also compute the number of trees measured per plot and the number of different species, using respectively the functions <code>n()</code> and <code>n_distinct(x)</code>. We should see that the resulting output has fewer rows, namely one per plot (one per each grouping class), and that it only contains the newly created variables.</p>
</div>

<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ex_1_1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ex_1_1-code-editor`)), session)
output$`tutorial-exercise-ex_1_1-output` <- renderUI({
  `tutorial-exercise-ex_1_1-result`()
})
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/bootstrap.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jqueryui"]},{"type":"character","attributes":{},"value":["1.11.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jqueryui"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-ui.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["templates/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js","codefolding.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmdformats"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.3.7"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.7"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["templates/bootstrap-3.3.7"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js"]},{"type":"character","attributes":{},"value":["css/bootstrap.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmdformats"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.3.7"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["magnific-popup"]},{"type":"character","attributes":{},"value":["1.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["templates/magnific-popup-1.1.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.magnific-popup.min.js"]},{"type":"character","attributes":{},"value":["magnific-popup.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmdformats"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.3.7"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["readthedown"]},{"type":"character","attributes":{},"value":["0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["templates/readthedown"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["readthedown.js"]},{"type":"character","attributes":{},"value":["readthedown.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmdformats"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.3.7"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["accessible-code-block"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/accessibility"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["empty-anchor.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","blob","bookdown","broom","cellranger","cli","colorspace","compiler","crayon","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gtable","haven","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","knitr","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","pillar","pkgconfig","promises","purrr","R6","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rmdformats","rprojroot","rstudioapi","rvest","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utf8","utils","vctrs","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.1.9","3.6.3","1.2.1","0.20","0.7.0","1.1.0","2.0.2","1.4-1","3.6.3","1.3.4","3.6.3","1.1.0","1.4.4","0.6.25","1.0.2","0.3.1","0.14","0.4.1","1.0.1","0.5.0","1.5.0","0.0.2","3.3.2","1.4.2","3.6.3","3.6.3","3.6.3","0.3.0","2.3.1","0.5.3","0.5.0","1.5.1","1.5.4","1.4.2","1.7.1","1.30","1.1.0.1","0.10.1","0.2.0","1.7.9","1.5","1.1","3.6.3","0.9","0.1.8","0.5.0","1.4.6","2.0.3","1.1.1","0.3.4","2.4.1","1.0.5","1.3.1","1.3.1","0.3.0","0.4.7","2.3","0.3.7","1.3-2","0.11","0.3.6","1.1.1","1.5.0","3.6.3","1.4.6","1.4.0","3.0.3","1.1.2","1.1.0","1.3.0","3.6.3","1.1.4","3.6.3","0.3.4","2.2.0","0.18","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>
</div>
</div>


</div>




<script>
$(document).ready(function () {
 	  });
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
